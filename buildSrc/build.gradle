buildscript {
  apply from: rootProject.file('../dependencies.gradle')

  repositories {
    google()
    mavenCentral()
    gradlePluginPortal()

    if (rootProject.ext.kotlinPreview) {
      maven { url 'https://maven.pkg.jetbrains.space/kotlin/p/kotlin/bootstrap' }
      maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots' }
      maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
    }
  }

  dependencies {
    classpath deps.kotlin.gradle_plugin
    classpath deps.ktlint_plugin
  }
}

repositories {
  google()
  mavenCentral()

  if (rootProject.ext.kotlinPreview) {
    maven { url 'https://maven.pkg.jetbrains.space/kotlin/p/kotlin/bootstrap' }
    maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots' }
    maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
  }
}

apply plugin: 'org.jetbrains.kotlin.jvm'
apply plugin: 'org.jlleitschuh.gradle.ktlint'

dependencies {
  compileOnly(gradleApi())

  implementation deps.kotlinpoet
}

ktlint {
  version = rootProject.ext.ktlintVersion
}
